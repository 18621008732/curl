<!DOCTYPE HTML>
<html>
<head>
<title>curl loading test for plain old javascript</title>

<script>
		if (!window.console) console = {};
		if (!('log' in console)) {
			console._msg = [];
			console.log = function (msg) {
				var _msg = this._msg;
				_msg.push(msg && msg.join ? msg.join(' ') : msg);
				clearTimeout(this._timeout);
				this._timeout = setTimeout(function () {
					alert(_msg.join('\n'));
				}, 100);
			};
		}

	require = {
		debug: true,
		paths: {
			css: 'cssx/css',
			text: '../src/curl/plugin/text'
		},
		jsPrefetch: true
	};
</script>
<script src="../src/curl.js" type="text/javascript"></script>
<!--<script src="../bin/curl.min.js" type="text/javascript"></script>-->


<script type="text/javascript">

	require(
		[
			'stuff/three',
			'css!stuff/base',
			'text!stuff/template.html',
			'js!stuff/plain_old.js',
			'js!stuff/plain_old_2.js!wait'
		]
	).then(
		function (three, link) {
			console.log('********* loaded:', three);
			if (document.body) {
				document.body.appendChild(document.createTextNode('three === ' + three + ' '));
				document.body.appendChild(document.createElement('br'));
				document.body.appendChild(document.createElement('div')).innerHTML = testDomain.foo.bar + ' ' + testDomain.sauce;
			}
		}
	);

</script>

</head>
<body>

</body>
</html>
