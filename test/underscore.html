<!DOCTYPE HTML>
<html>
<head>
<title>underscore test file</title>

</head>
<body>

</body>

<script>
	curl = {
			baseUrl: '',
			paths: {
				curl: '..',
				underscore: 'support/underscore-amdjs-1.3.1/underscore'
			}
		};

</script>
<script src="../curl.js" type="text/javascript"></script>

<script type="text/javascript">

	curl(
		['underscore'], // load something or callback will execute asap
		function (_) {
			try {
				// test for one of underscore's last methods
				if (typeof _.chain == 'function')
					write('SUCCESS: underscore loaded');
				else
					write('FAILED: underscore not fully loaded');
			}
			catch (ex) {
				write('FAILED: ' + ex.message);
			}
		},
		function (ex) {
			write('ERROR: ' + ex.message);
		}
	);

	function write (msg) {
		curl(['curl/domReady'], function (ready) {
			ready(function () {
				document.body.appendChild(document.createElement('div')).innerHTML = msg;
			});
		});
	}

</script>

</html>
