<!DOCTYPE HTML>
<html>
<head>
<title>preload test file</title>

<script>
curl = {
			baseUrl: '',
			paths: {
				curl: '../src/curl',
				dojo: 'https://ajax.googleapis.com/ajax/libs/dojo/1.6.1/dojo/dojo.xd',
				'jquery': 'http://code.jquery.com/jquery-1.7.1'
			},
			preload: [
				'curl/debug',
				'curl/dojo16Compat'
			]
		};
</script>
<script src="../src/curl.js" type="text/javascript"></script>

<script type="text/javascript">

	curl(
		['jquery'],
		function ($) {
			// TODO: figure out why $.ready() doesn't work
			$(function () {
				document.body.appendChild(document.createTextNode('SUCCESS: dojo loaded correctly'));
			});
		},
		function (ex) {
			document.body.appendChild(document.createTextNode('ERROR: ' + ex.message));
		}
	);

</script>

</head>
<body>

<p>There should be text below if this page loaded.</p>

</body>
</html>
