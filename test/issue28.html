<!DOCTYPE HTML>
<html>
<head>
<title>test for github issue #37</title>

<script>

	// mock console for IE
	if (!window.console) console = {};
	if (!('log' in console)) {
		console._msg = [];
		console.log = function (msg) {
			var _msg = this._msg;
			_msg.push(msg && msg.join ? msg.join(' ') : msg);
			clearTimeout(this._timeout);
			this._timeout = setTimeout(function () {
				alert(_msg.join('\n'));
			}, 100);
		};
	}

</script>
<script src="../src/curl.js" type="text/javascript"></script>
<!--<script src="support/curl-0.5.3.js"></script>-->
<!--<script src="support/curl-0.5.4.js"></script>-->

<script type="text/javascript">

	curl(
		{
			baseUrl: '', // default path
			paths: {
				'curl': '../src/curl',
				'css!': 'http://ajax.googleapis.com/ajax/libs/dojo/1.6', // default path for css! resources
				'css!dijit': 'http://ajax.googleapis.com/ajax/libs/dojo/1.6/dijit/themes',
				'css!dojo': 'http://ajax.googleapis.com/ajax/libs/dojo/1.6/dojo/resources'
			}
		},
		[
			'stuff/css-on-cdn',
			'domReady!'
		]
	).then(
		function () {
			var doc = document,
				testEl = doc.getElementById('test'),
				msg,
				testVal;

			function getStyle (el, prop) {
				return window.getComputedStyle ?
					window.getComputedStyle(el, null)[prop] :
					el.currentStyle[prop]
			}

			testVal = getStyle(testEl, 'display');
			msg = testVal.toLowerCase() == 'inline-block' ?
				'SUCCESS: claro.css file loaded.' :
				'FAILED: claro.css file not loaded.';
			doc.body.appendChild(doc.createElement('div')).innerHTML = msg;

			testVal = getStyle(testEl, 'fontFamily');
			msg = testVal.toLowerCase().indexOf('tahoma') >= 0 ?
				'SUCCESS: dojo.css file loaded.' :
				'FAILED: dojo.css file not loaded.';
			doc.body.appendChild(doc.createElement('div')).innerHTML = msg;
		}
	);

</script>

</head>
<body>

<p id="test" class="dijitInlineTable">Success or failure message below:</p>

</body>
</html>
