var l=true;
(function(q,z,m){function n(a,b){return I.call(a).indexOf("[object "+b)==0}function J(a){function b(b){if(b in a)return b=a[b].charAt(0)!="."?(!a.path||v(a.path)?a.path:a.path+"/")+a[b]:c.g(a[b],a.path),A(b)}a.path=a.path||"";a.o=b("lib");a.p=b("main");return a}function K(){}function v(a){return a.charAt(a.length-1)=="/"}function A(a){return v(a)?a.substr(0,a.length-1):a}function B(a){function b(a,b){c.push([a,b])}function d(a){f(l,a)}function k(a){f(false,a)}function f(a,f){b=a?function(a){a&&a(f)}:
function(a,b){b&&b(f)};d=k=function(){throw Error("Promise already completed.");};for(var e,h=0;e=c[h++];)(e=e[a?0:1])&&e(f)}var e=this,c=[];this.id=a;this.A=function(a,d){b(a,d)};this.d=function(a){e.F=a;d(a)};this.a=function(a){e.D=a;k(a)}}function s(a,b,d){a instanceof B?a.A(b,d):b(a)}function D(a,b,d){if(n(a,"String")){d=h[a];if(d instanceof o)throw Error("Module is not already resolved: "+a);return d}c.n(null,a,d,function(a){b.d?b.d(a):b.apply(null,a)},function(a){if(b.a)b.a(a);else throw a;
})}function w(){function a(b,f,e){var c=new B;this.then=function(a,b){s(c,function(b){a&&a.apply(C,b)},function(a){if(b)b(a);else throw a;});return this};this.next=function(b,d){return new a(b,d,c)};f&&this.then(f);s(e,function(){d.i([].concat(b),c,d)})}var b=L.call(arguments),d;n(b[0],"Object")&&(m=b.shift(),c.l(m));d=c.f("");return new a(b[0],b[1])}function E(a){var b=a.id;if(b==null)if(t!==C)t={k:"Multiple anonymous defines found in ${url}."};else if(!(b=c.v()))t=a;if(b!=null){var d=h[b];d||(d=
h[b]=new o(b));d.B=false;"resolved"in d||c.q(d,a,c.f(b))}}var F=z.head||z.getElementsByTagName("head")[0],u,p="curl/plugin",x={},h={},t,y={},I={}.toString,C,L=[].slice,M=/^\/|^[^:]+:\/\//,N=/^(\.)(\.)?(\/|$)/,O=/\//g,P=/\?/,G,Q={loaded:1,interactive:1,complete:1},c,o=B;c={l:function(a){function b(a,b){var e,c,g;for(g in a)e=A(a[g].id||g.replace("!","!/")),c=b?J(a[g]):{path:A(a[g])},c.r=(e.match(O)||[]).length,x[e]=c,d.push(e)}var d=[];u=a.baseUrl||"";b(a.paths,false);b(a.packages,l);G=RegExp("^("+
d.sort(function(a,b){return x[a].r<x[b].r}).join("|").replace(/\//g,"\\/")+")(?=\\/|$)");p=a.pluginPath||p},f:function(a){function b(a,b){return D(a,b||K,f)}function d(a){a=c.b(c.g(a,k)).path;return c.h(a,u)}var k=a.substr(0,a.lastIndexOf("/")),f={c:k},e={};f.e={exports:e,module:{id:a,uri:d(a),exports:e}};f.i=f.e.require=b;b.toUrl=d;return f},b:function(a,b){function d(a){f=a.replace(G,function(b){c=x[b]||{};h=l;e=c.j;return c.p&&b==a?c.p:c.o?c.o:c.path||""})}var c,f,e,h;b&&d(b+"!/"+a);h||d(a);return{path:f,
j:e||{}}},h:function(a,b,d){return(b&&!M.test(a)?(!b||v(b)?b:b+"/")+a:a)+(d&&!P.test(a)?".js":"")},w:function(a,b,d){var c=z.createElement("script");c.type="text/javascript";c.onload=c.onreadystatechange=function(d){d=d||q.event;if(d.type==="load"||Q[this.readyState])delete y[a.id],this.onload=this.onreadystatechange=this.onerror=null,b(c)};c.onerror=function(){d(Error("Syntax error or http error: "+a.url))};c.charset=a.charset||"utf-8";c.async=l;c.src=a.url;y[a.id]=c;F.insertBefore(c,F.firstChild)},
u:function(a){var b,d,c,f,e=a.length;c=a[e-1];f=n(c,"Function");e==2?n(a[0],"Array")?d=a[0]:b=a[0]:e==3&&(b=a[0],d=a[1]);!d&&f&&c.length>0&&(d=["require","exports","module"]);return{id:b,s:d||[],z:f?c:function(){return c}}},q:function(a,b){var d=c.f(a.c||a.id);c.n(a,b.s,d,function(c){var f;try{f=b.z.apply(d.e.exports,c)||d.e.module.exports}catch(e){a.a(e)}h[a.id]=f;a.d(f)},a.a)},m:function(a,b){c.w(a,function(){var d=t;t=C;a.B!==false&&(d?d.k?a.a(Error(d.k.replace("${url}",a.url))):c.q(a,d,b):a.a(Error("define() not found or duplicates found: "+
a.url)))},a.a);return a},g:function(a,b){return a.replace(N,function(a,c,f){return(f?b.substr(0,b.lastIndexOf("/")):b)+"/"})},t:function(a,b){var d,k,f,e,i,g,j,r;k=a.indexOf("!");k>=0?(f=a.substr(0,k),i=c.b(f),i.path.indexOf("/")<0&&(i=c.b((!p||v(p)?p:p+"/")+i.path)),r=m.plugins&&m.plugins[f]||{}):(e=d=c.g(a,b.c),g=c.b(e),r=g.j||{},i=(f=r.C)&&c.b(f));if(f){e=a.substr(k+1);g=h[f];if(!g)g=h[f]=new o(f),g.url=c.h(i.path,u,l),g.c=i.path,c.m(g,b);b=c.f(b.c);b.i.toUrl=function(a){a=c.b(a,f);return c.h(a.path,
u)};var n=function(a){return c.g(a,b.c)};j=new o(a);s(g,function(c){var g;e=a.substr(k+1);e="normalize"in c?c.normalize(e,n,r):n(e);d=f+"!"+e;g=h[d];if(!g){g=new o(d);e&&!c.dynamic&&(h[d]=g);var i=function(a){h[d]=a;g.d(a)};i.resolve=i;i.reject=g.a;c.load(e,b.i,i,r)}s(g,j.d,j.a)},j.a)}else if(j=h[e],!j)j=h[e]=new o(e),j.url=c.h(g.path,u,l),c.m(j,b);return j},n:function(a,b,d,h,f){for(var e=[],i=b.length,a=i,g=false,j=0;j<a&&!g;j++)(function(a,b){b in d.e?(e[a]=d.e[b],i--):s(c.t(b,d),function(b){e[a]=
b;--i==0&&(g=l,h(e))},function(a){g=l;f(a)})})(j,b[j]);i==0&&!g&&h(e)},v:function(){var a;if(!n(q.opera,"Opera"))for(var b in y)if(y[b].readyState=="interactive"){a=b;break}return a}};n(m,"Function")||c.l(m);var H;(m.apiContext||q)[m.apiName||"curl"]=w;H=q.define=function(){var a=c.u(arguments);E(a)};w.version="0.5.4dev";H.amd={plugins:l,curl:"0.5.4dev"};h.curl=w;h["curl/_privileged"]={core:c,cache:h,cfg:m,_require:D,_define:E,_curl:w,global:q,ResourceDef:o}})(this,document,this.curl||{});
