var k=true;
(function(q,A,l){function m(a,b){return J.call(a).indexOf("[object "+b)==0}function K(a){function b(b){if(b in a)return b=a[b].charAt(0)!="."?(!a.path||v(a.path)?a.path:a.path+"/")+a[b]:d.f(a[b],a.path),B(b)}a.path=a.path||"";a.o=b("lib");a.p=b("main");return a}function L(){}function v(a){return a.charAt(a.length-1)=="/"}function B(a){return v(a)?a.substr(0,a.length-1):a}function C(){}function M(a){C.prototype=a;a=new C;C.prototype=w;return a}function D(a){function b(a,b){j.push([a,b])}function c(a){g(k,
a)}function e(a){g(false,a)}function g(a,g){b=a?function(a){a&&a(g)}:function(a,b){b&&b(g)};c=e=function(){throw Error("Promise already completed.");};for(var f,d=0;f=j[d++];)(f=f[a?0:1])&&f(g)}var f=this,j=[];this.id=a;this.A=function(a,e){b(a,e)};this.c=function(a){f.F=a;c(a)};this.a=function(a){f.D=a;e(a)}}function s(a,b,c){a instanceof D?a.A(b,c):b(a)}function E(a,b,c){if(m(a,"String")){c=h[a];if(c instanceof o)throw Error("Module is not already resolved: "+a);return c}d.n(null,a,c,function(a){b.c?
b.c(a):b.apply(null,a)},function(a){if(b.a)b.a(a);else throw a;})}function x(){function a(b,g,f){var d=new D;this.then=function(a,b){s(d,function(b){a&&a.apply(w,b)},function(a){if(b)b(a);else throw a;});return this};this.next=function(b,c){return new a(b,c,d)};g&&this.then(g);s(f,function(){c.i([].concat(b),d,c)})}var b=N.call(arguments),c;m(b[0],"Object")&&(l=b.shift(),d.l(l));c=d.h("");return new a(b[0],b[1])}function F(a){var b=a.id;if(b==null)if(t!==w)t={k:"Multiple anonymous defines found in ${url}."};
else if(!(b=d.v()))t=a;if(b!=null){var c=h[b];c||(c=h[b]=new o(b));c.B=false;"resolved"in c||d.q(c,a,d.h(b))}}var G=A.head||A.getElementsByTagName("head")[0],u,p="curl/plugin",y={},h={},t,z={},J={}.toString,w,N=[].slice,O=/^\/|^[^:]+:\/\//,P=/^(\.)(\.)?(\/|$)/,Q=/\//g,R=/\?/,H,S={loaded:1,interactive:1,complete:1},d,o=D;d={l:function(a){function b(a,b){var f,d,n;for(n in a)f=B(a[n].id||n.replace("!","!/")),d=b?K(a[n]):{path:B(a[n])},d.r=(f.match(Q)||[]).length,y[f]=d,c.push(f)}var c=[];u=a.baseUrl||
"";b(a.paths,false);b(a.packages,k);H=RegExp("^("+c.sort(function(a,b){return y[a].r<y[b].r}).join("|").replace(/\//g,"\\/")+")(?=\\/|$)");p=a.pluginPath||p},h:function(a){function b(a,b){return E(a,b||L,g)}function c(a){a=d.b(d.f(a,e)).path;return d.g(a,u)}var e=a.substr(0,a.lastIndexOf("/")),g={e:e},f={};g.d={exports:f,module:{id:a,uri:c(a),exports:f}};g.i=g.d.require=b;b.toUrl=c;return g},b:function(a,b){function c(a){g=a.replace(H,function(b){e=y[b]||{};d=k;f=e.j;return e.p&&b==a?e.p:e.o?e.o:
e.path||""})}var e,g,f,d;b&&c(b+"!/"+a);d||c(a);return{path:g,j:f||{}}},g:function(a,b,c){return(b&&!O.test(a)?(!b||v(b)?b:b+"/")+a:a)+(c&&!R.test(a)?".js":"")},w:function(a,b,c){var e=A.createElement("script");e.type="text/javascript";e.onload=e.onreadystatechange=function(c){c=c||q.event;if(c.type==="load"||S[this.readyState])delete z[a.id],this.onload=this.onreadystatechange=this.onerror=null,b(e)};e.onerror=function(){c(Error("Syntax error or http error: "+a.url))};e.charset=a.charset||"utf-8";
e.async=k;e.src=a.url;z[a.id]=e;G.insertBefore(e,G.firstChild)},u:function(a){var b,c,e,d,f=a.length;e=a[f-1];d=m(e,"Function");f==2?m(a[0],"Array")?c=a[0]:b=a[0]:f==3&&(b=a[0],c=a[1]);!c&&d&&e.length>0&&(c=["require","exports","module"]);return{id:b,s:c||[],z:d?e:function(){return e}}},q:function(a,b){var c=d.h(a.e||a.id);d.n(a,b.s,c,function(e){var d;try{d=b.z.apply(c.d.exports,e)||c.d.module.exports}catch(f){a.a(f)}h[a.id]=d;a.c(d)},a.a)},m:function(a,b){d.w(a,function(){var c=t;t=w;a.B!==false&&
(c?c.k?a.a(Error(c.k.replace("${url}",a.url))):d.q(a,c,b):a.a(Error("define() not found or duplicates found: "+a.url)))},a.a);return a},f:function(a,b){return a.replace(P,function(a,d,g){return(g?b.substr(0,b.lastIndexOf("/")):b)+"/"})},t:function(a,b){var c,e,g,f,j,n,i,r;e=a.indexOf("!");e>=0?(g=a.substr(0,e),j=d.b(g),j.path.indexOf("/")<0&&(j=d.b((!p||v(p)?p:p+"/")+j.path)),r=l.plugins&&l.plugins[g]||{}):(f=c=d.f(a,b.e),n=d.b(f),r=n.j||{},j=(g=r.C)&&d.b(g));if(g){f=a.substr(e+1);e=h[g];if(!e)e=
h[g]=new o(g),e.url=d.g(j.path,u,k),e.e=j.path,d.m(e,b);b=M(b);b.i.toUrl=function(a){a=d.b(a,g);return d.g(a.path,u)};var m=function(a){return d.f(a,b.e)};i=new o(a);s(e,function(a){var d;f="normalize"in a?a.normalize(f,m,r):m(f);c=g+"!"+f;d=h[c];if(!d){d=new o(c);f&&!a.dynamic&&(h[c]=d);var e=function(a){h[c]=a;d.c(a)};e.resolve=e;e.reject=d.a;a.load(f,b.i,e,r)}s(d,i.c,i.a)},i.a)}else if(i=h[f],!i)i=h[f]=new o(f),i.url=d.g(n.path,u,k),d.m(i,b);return i},n:function(a,b,c,e,g){for(var f=[],j=b.length,
a=j,h=false,i=0;i<a&&!h;i++)(function(a,b){b in c.d?(f[a]=c.d[b],j--):s(d.t(b,c),function(b){f[a]=b;--j==0&&(h=k,e(f))},function(a){h=k;g(a)})})(i,b[i]);j==0&&!h&&e(f)},v:function(){var a;if(!m(q.opera,"Opera"))for(var b in z)if(z[b].readyState=="interactive"){a=b;break}return a}};m(l,"Function")||d.l(l);var I;(l.apiContext||q)[l.apiName||"curl"]=x;I=q.define=function(){var a=d.u(arguments);F(a)};x.version="0.5.4dev";I.amd={plugins:k,curl:"0.5.4dev"};h.curl=x;h["curl/_privileged"]={core:d,cache:h,
cfg:l,_require:E,_define:F,_curl:x,global:q,ResourceDef:o}})(this,document,this.curl||{});
