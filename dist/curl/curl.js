(function(o,v,p){function j(a,b){return M.call(a).indexOf("[object "+b)==0}function N(a,b){j(a,"String")&&(a={path:m(a),main:B.f,lib:B.e});a.path=a.path||(isNaN(b)?b:a.name);a.e="lib"in a&&m(a.lib.replace(n,a.path+"/"));a.f="main"in a&&m(a.main.replace(n,a.path+"/"));return a}function C(a){var b,d,c,e=[];s=a.baseUrl||"";var f=a.paths;for(b in f)d=m(b),c=q[d]={path:m(f[b])},c.h=(c.path.match(D)||[]).length,e.push(d);f=a.packages;for(b in f)d=m(f[b].name||b),c=q[d]=N(f[b],d),c.h=(c.path.match(D)||[]).length,
e.push(d);E=RegExp("^("+e.sort(function(a,b){return q[a].h<q[b].h}).join("|").replace(/\//g,"\\/")+")(?=\\/|$)");k=a.pluginPath||k}function O(){}function w(a){function b(a){return x(y(a.replace(n,d+"/")),s)}var d=a.substr(0,a.lastIndexOf("/")),c={baseName:d};c.d={j:{},n:{id:a.replace(n,d+"/"),uri:b(a)},b:function(a,b){return F(a,b||O,c)}};c.b=c.d.b;c.b.toUrl=b;return c}function z(){function a(a,b){e.push([a,b])}function b(a){c(!0,a)}function d(a){c(!1,a)}function c(c,g){a=c?function(a){a&&a(g)}:function(a,
b){b&&b(g)};b=d=function(){throw Error("Promise already completed.");};for(var i,P=0;i=e[P++];)(i=i[c?0:1])&&i(g)}var e=[];return{c:function(b,c){a(b,c);return this},g:function(a){b(a)},a:function(a){d(a)}}}function t(a){var b=z();b.name=a;return b}function m(a){return a.charAt(a.length-1)=="/"?a.substr(0,a.length-1):a}function y(a){var b;return a.replace(E,function(d){b=q[d];return b.f&&d==a?b.f:b.e?b.e:b.path})}function x(a,b){return(b&&!Q.test(a)?(!b||b.charAt(b.length-1)=="/"?b:b+"/")+a:a)+(R.test(a)?
"":".js")}function S(a,b,d){var c=v.createElement("script");c.type="text/javascript";c.onload=c[G]=function(d){d=d||o.event;if(d.type==="load"||T[this.readyState])delete u[a.name],this.onload=this[G]=this.onerror=null,b(c)};c.onerror=function(){d(Error("Syntax error or http error: "+a.url))};c.charset=a.charset||"utf-8";c.async=!0;c.src=a.url;u[a.name]=c;H.insertBefore(c,H.firstChild)}function U(a){var b,d,c,e,f=a.length;c=a[f-1];e=j(c,"Function");f==2?j(a[0],"Array")?d=a[0]:b=a[0]:f==3&&(b=a[0],
d=a[1]);!d&&e&&c.length>0&&(d=["require","exports","module"]);return{name:b,k:d||[],l:e?c:function(){return c}}}function I(a,b){var d=w(a.name);J(b.k,d,function(c){c=b.l.apply(d.d.j,c)||d.d.j;a.g(c)},a.a)}function K(a){S(a,function(){var b=r;r=A;a.m!==!1&&(b?b.i?a.a(Error(b.i.replace("${url}",a.url))):I(a,b):a.a(Error("define() not found: "+a.url)))},a.a)}function V(a,b){var d,c,e,f,g;c=a.indexOf("!");if(c>=0){if(e=a.substr(0,c),f=a.substr(c+1).replace(n,b.baseName+"/"),d=e+"!"+f,c=y(e),c.indexOf("/")<
0&&(c=(!k||k.charAt(k.length-1)=="/"?k:k+"/")+c),g=h[d],!g){g=h[d]=new t(f);d=h[e];if(!d)d=h[e]=new t(e),d.url=x(c,s),K(d);d.c(function(a){var c=g.g;c.resolve=c;c.reject=g.a;a.load(g.name,b.b,c,p)},g.a)}}else if(f=d=a.replace(n,b.baseName+"/"),g=h[f],!g)g=h[f]=new t(f),g.url=x(y(f),s),K(g);return g}function J(a,b,d,c){for(var e=[],f=a.length,g=f,i=!1,h=0;h<g&&!i;h++)(function(a,g){g in b.d?(e[a]=b.d[g],f--):V(g,b).c(function(b){e[a]=b;--f==0&&(i=!0,d(e))},function(a){i=!0;c(a)})})(h,a[h]);f==0&&!i&&
d(e)}function F(a,b,d){if(j(a,"String")){var d=h[a],c;d&&d.c(function(a){c=a});if(c===A)throw Error("Module is not already resolved: "+a);return c}J(a,d,function(a){b.g?b.g(a):b.apply(null,a)},function(a){if(b.a)b.a(a);else throw a;})}function l(){var a=W.call(arguments),b,d;j(a[0],"Object")&&C(a.shift());b=a[0];a=a[1];d=w("");var c=new z,e={};e.then=function(a,b){c.c(function(b){a&&a.apply(null,b)},function(a){if(b)b(a);else throw a;});return e};e.next=function(a,b){var h=c;c=new z;h.c(function(){d.b(a,
c,d)});b&&c.c(b);return e};a&&e.then(a);d.b(b,c,d);return e}function L(){var a=U(arguments),b=a.name;if(b==null)if(r!==A)r={i:"Multiple anonymous defines found in ${url}."};else{var d;if(!j(o.opera,"Opera"))for(var c in u)if(u[c].readyState=="interactive"){d=c;break}if(!(b=d))r=a}if(b!=null)(d=h[b])||(d=h[b]=new t(b)),d.m=!1,I(d,a,w(b))}var H=v.head||v.getElementsByTagName("head")[0],s,k="curl/plugin",q={},h={},r,u={},M={}.toString,A,W=[].slice,Q=/^\/|^[^:]*:\/\//,n=/^\.(\/|$)/,D=/\//,R=/\.\w+$/,
E,T={loaded:1,interactive:1,complete:1},G="onreadystatechange",B={f:"./lib/main",e:"./lib"};j(p,"Function")||C(p);p.apiName?o[p.apiName]=l:o.curl=l;l.require=l;o.define=l.define=L;l.version="0.4.4";l._require=F;L.amd={plugins:!0}})(this,document,this.curl||{});
